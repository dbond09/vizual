int cols[] = {12, 11, 10, 9, 8, 7};
int dec[] = {6, 5, 4};

int rows[] = {0b000, 0b001, 0b011, 0b010, 0b110, 0b111, 0b101, 0b100};
//              0      1      3      2      6      7      5       4

int frames[][6][6] = {{{1,0,0,0,0,1},{0,1,0,0,1,0},{0,1,0,0,1,0},{0,1,0,0,1,0},{0,1,0,0,1,0},{1,0,0,0,0,1}},{{1,0,0,0,0,1},{1,0,0,0,0,1},{1,0,0,0,0,1},{1,0,0,0,0,1},{1,0,0,0,0,1},{1,0,0,0,0,1}},{{1,1,0,0,1,1},{1,0,0,0,0,1},{0,0,0,0,0,0},{0,0,0,0,0,0},{1,0,0,0,0,1},{1,1,0,0,1,1}},{{1,1,1,1,1,1},{0,0,0,0,0,0},{0,0,0,0,0,0},{0,0,0,0,0,0},{0,0,0,0,0,0},{1,1,1,1,1,1}},{{1,0,0,0,0,1},{0,1,1,1,1,0},{0,0,0,0,0,0},{0,0,0,0,0,0},{0,1,1,1,1,0},{1,0,0,0,0,1}},{{1,0,0,0,0,1},{0,1,0,0,1,0},{0,0,1,1,0,0},{0,0,1,1,0,0},{0,1,0,0,1,0},{1,0,0,0,0,1}}};
int current_frame = 0;

void setup() {
  for (int i = 0; i < 6; i++) {
    pinMode(cols[i], OUTPUT);
  }
  for (int i = 0; i < 3; i++) {
    pinMode(dec[i], OUTPUT);
  }
}

void loop() {
  for (int y = 0; y < 8; y++) {
    digitalWrite(dec[0], rows[y] & 1);
    digitalWrite(dec[1], rows[y] >> 1 & 1);
    digitalWrite(dec[2], rows[y] >> 2 & 1);
    if (rows[y] > 5) {
      continue;
    }
    for (int x = 0; x < 6; x++) {
      digitalWrite(cols[x], frames[current_frame][rows[y]][x]);
    }
  }
  current_frame = (current_frame + 1) % 6;
  delay(200);
}
